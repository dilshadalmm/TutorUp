<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Updated viewport to disable zooming (maximum-scale=1.0, user-scalable=no) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Edutopia - Unified Mobile App</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // Edutopia Theme (Dark, Amber/Red)
                        'primary': '#fbbf24',      // Vibrant Amber/Yellow
                        'primary-light': '#fde047', // Lighter Amber for gradients
                        'secondary': '#ef4444',    // Bright Red
                        'background': '#0f172a',   // Deep Navy/Slate (Slate-900)
                        'card': '#1e293b',         // Dark Slate (Slate-800)
                    },
                }
            }
        }
        
        // Data structure for the Lecture Player (from YouTube.html)
        const chapters = [
            {
                title: "Chapter 01 : Reaction Mechanism",
                thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                tutor: "Dilshad Alam",
                lecturesCount: 4,
                lectures: [
                    {
                        title: "Lecture 01 : Reaction Mechanism",
                        url: "https://edtech.b-cdn.net/L01_-_REACTION_MECHANISM.mp4",
                        duration: "49:02",
                        thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                        author: "Dilshad Alam",
                        views: "25K"
                    },
                    {
                        title: "Lecture 02 : Reaction Mechanism",
                        url: "https://edtech.b-cdn.net/L02_-_REACTION_MECHANISM.mp4",
                        duration: "50:23",
                        thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                        author: "Dilshad Alam",
                        views: "18K"
                    },
                    {
                        title: "Lecture 03 : Reaction Mechanism",
                        url: "https://edtech.b-cdn.net/L03_-_REACTION_MECHANISM.mp4",
                        duration: "01:13:10",
                        thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                        author: "Dilshad Alam",
                        views: "12K"
                    },
                    {
                        title: "Lecture 04 : Reaction Mechanism",
                        url: "https://edtech.b-cdn.net/L04_-_REACTION_MECHANISM.mp4",
                        duration: "01:09:56",
                        thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                        author: "Dilshad Alam",
                        views: "9K"
                    }
                ]
            },
            {
                title: "Chapter 02 : Organic Chemistry",
                thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                tutor: "Dilshad Alam",
                lecturesCount: 6,
                lectures: [
                    {
                        title: "Lecture 01 : Organic Chemistry",
                        url: "https://edtech.b-cdn.net/L01_-_REACTION_MECHANISM.mp4",
                        duration: "49:02",
                        thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                        author: "Dilshad Alam",
                        views: "25K"
                    },
                    {
                        title: "Lecture 02 : Organic Chemistry",
                        url: "https://edtech.b-cdn.net/L02_-_REACTION_MECHANISM.mp4",
                        duration: "50:23",
                        thumbnail: "https://edtech.b-cdn.net/images%20(3).jpeg",
                        author: "Dilshad Alam",
                        views: "18K"
                    }
                ]
            }
        ];
        
        let isPlayerInitialized = false;

        function changeView(viewId) {
            const dashboard = document.getElementById('dashboard-view');
            const aiTutor = document.getElementById('ai-tutor-view');
            
            // Show only the requested view (using original hidden class toggle)
            if (viewId === 'dashboard-view') {
                dashboard.classList.remove('hidden');
                aiTutor.classList.add('hidden');
                document.getElementById('main-header').classList.remove('hidden');
                document.getElementById('main-footer').classList.remove('hidden');
                // Ensure the body prevents vertical scrolling when on the dashboard
                document.body.style.overflowY = 'hidden'; 
                
                // Stop any potentially running video on return to dashboard
                const videoPlayer = document.getElementById('lecture-video');
                if (videoPlayer) {
                    videoPlayer.pause();
                    videoPlayer.src = '';
                    document.getElementById('video-thumbnail').classList.remove('hidden');
                    videoPlayer.classList.add('hidden');
                    document.getElementById('video-title').textContent = "SEE 2082 - COMPLETE SCIENCE";
                    // If the player was initialized, reset the carousel content
                    if (isPlayerInitialized && window.renderChapters) {
                         window.renderChapters(); 
                    }
                }
                
            } else if (viewId === 'ai-tutor-view') {
                dashboard.classList.add('hidden');
                aiTutor.classList.remove('hidden');
                document.getElementById('main-header').classList.add('hidden');
                document.getElementById('main-footer').classList.add('hidden');
                // Allow vertical scrolling for player content
                document.body.style.overflowY = 'auto'; 
                
                // Initialize player components only on first visit
                if (!isPlayerInitialized) {
                    playerInit();
                    isPlayerInitialized = true;
                }
            }
        }
        
        // --- Player Initialization and Rendering Logic ---
        function playerInit() {
            // --- PLAYER DOM ELEMENTS ---
            const carousel = document.getElementById('lecture-carousel');
            const carouselTitle = document.getElementById('carousel-title');
            const videoPlayer = document.getElementById('lecture-video');
            const videoThumbnail = document.getElementById('video-thumbnail');
            const videoTitle = document.getElementById('video-title');
            const playerContainer = document.getElementById('video-player-container');
            
            const homeButton = document.getElementById('player-home-button'); 
            const spacer = document.getElementById('video-player-spacer');

            // --- RENDERING FUNCTIONS (for chapters/lectures) ---
            const TRANSITION_DURATION = 300; 

            // Make renderChapters globally accessible for reset on view change
            window.renderChapters = function() {
                carousel.style.opacity = '0';
                setTimeout(() => {
                    carousel.innerHTML = ''; // Clear existing cards
                    carouselTitle.textContent = "Chapters";
                    
                    chapters.forEach((chapter, index) => {
                        const card = document.createElement('div');
                        card.classList.add('flex-shrink-0', 'w-72', 'rounded-xl', 'bg-slate-800/50', 'transition-all', 'duration-300', 'transform', 'cursor-pointer');
                        card.dataset.index = index; // Store the chapter index
                        card.innerHTML = `
                            <img class="w-full h-48 object-cover rounded-t-xl" 
                                 src="${chapter.thumbnail}" 
                                 alt="${chapter.title} thumbnail"
                                 onerror="this.onerror=null; this.src='https://placehold.co/600x400/1e293b/fbbf24?text=Chapter+Image';">
                            <div class="p-4">
                                <h3 class="font-semibold text-sm text-white leading-tight mb-1">${chapter.title}</h3>
                                <p class="text-xs text-slate-400">${chapter.tutor}</p>
                                <p class="text-xs text-slate-500 mt-1">${chapter.lecturesCount} Lectures</p>
                            </div>
                        `;
                        carousel.appendChild(card);
                    });
                    carousel.style.opacity = '1';
                }, TRANSITION_DURATION);
            }
            
            function renderLectures(lectureArray) {
                carousel.style.opacity = '0';
                setTimeout(() => {
                    carousel.innerHTML = ''; // Clear existing cards
                    carouselTitle.textContent = "Lectures From this Course";
                    
                    lectureArray.forEach(lecture => {
                        const card = document.createElement('div');
                        card.classList.add('flex-shrink-0', 'w-72', 'rounded-xl', 'bg-slate-800/50', 'transition-all', 'duration-300', 'transform', 'cursor-pointer');
                        card.dataset.url = lecture.url;
                        card.dataset.title = lecture.title;
                        card.innerHTML = `
                            <img class="w-full h-48 object-cover rounded-t-xl" 
                                 src="${lecture.thumbnail}" 
                                 alt="${lecture.title} thumbnail"
                                 onerror="this.onerror=null; this.src='https://placehold.co/600x400/1e293b/fbbf24?text=Lecture+Image';">
                            <div class="p-4">
                                <h3 class="font-semibold text-sm text-white leading-tight mb-1">${lecture.title}</h3>
                                <p class="text-xs text-slate-400">${lecture.author}</p>
                                <p class="text-xs text-slate-500 mt-1">${lecture.views} views • ${lecture.duration}</p>
                            </div>
                        `;
                        carousel.appendChild(card);
                    });
                    carousel.style.opacity = '1';
                }, TRANSITION_DURATION);
            }

            function updatePlayer(title, url) {
                videoThumbnail.classList.add('hidden');
                videoPlayer.classList.remove('hidden');

                videoPlayer.src = url;
                videoTitle.textContent = title;
                videoPlayer.load(); // Ensure the video loads before play is attempted
                videoPlayer.play().catch(error => {
                    console.error("Autoplay failed:", error);
                    // In a real app, you might show a "Play" button overlay
                });
            }

            // --- PLAYER EVENT LISTENERS ---
            carousel.addEventListener('click', (event) => {
                const card = event.target.closest('.rounded-xl');
                if (card) {
                    if (card.dataset.index) {
                        const chapterIndex = parseInt(card.dataset.index);
                        const selectedChapter = chapters[chapterIndex];
                        renderLectures(selectedChapter.lectures);
                    } 
                    else if (card.dataset.url) {
                        const url = card.dataset.url;
                        const title = card.dataset.title;
                        updatePlayer(title, url);
                    }
                }
            });
            
            homeButton.addEventListener('click', () => {
                // Return to the main dashboard view
                changeView('dashboard-view');
            });


            // --- SCRIPT FOR DYNAMIC PLAYER RESIZING ---
            function resizeAndPositionElements() {
                const screenWidth = window.innerWidth;
                const playerHeight = screenWidth * 9 / 16;
                
                playerContainer.style.height = `${playerHeight}px`;
                spacer.style.height = `${playerHeight}px`;

                // Set the sticky top position
                document.documentElement.style.setProperty('--sticky-top', `${playerHeight}px`);
            }
            
            // Initial call and set up resize listener for the Player view
            resizeAndPositionElements();
            window.addEventListener('resize', resizeAndPositionElements);
            renderChapters(); // Initial render
        }


        // Global setup on load
        window.onload = function() {
            // Start on the dashboard view
            changeView('dashboard-view');
            console.log("Edutopia App loaded.");
        };
    </script>
    
    <style>
        /* Load the Inter font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Ensures body covers full screen and centers the mobile container */
        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #0f172a; /* Edutopia main background */
            font-family: 'Inter', sans-serif;
            color: #f3f4f6;
            
            /* Disable text selection (copy/paste) and prevent vertical scrolling on the body initially */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            overflow-y: hidden; /* Controlled by JS based on view */
        }

        /* Main App Container: Simulates the mobile screen (max-w-md) */
        .app-container {
            height: 100vh; /* Takes up full viewport height on mobile */
            width: 100%;
            max-width: 448px; /* max-w-md equivalent */
            display: flex; /* RESTORED: Use flex for vertical stacking of header/main/footer */
            flex-direction: column;
            background-color: #0f172a; /* Edutopia background */
            position: relative;
        }
        
        /* Shared Touch Target Size */
        .touch-target {
            min-height: 48px;
            min-width: 48px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        /* Style to hide horizontal scrollbar for carousel aesthetic */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* --- PLAYER VIEW STYLES (Restored positioning) --- */
        
        /* Fixed video player section at the very top of the screen */
        #video-player-container {
            line-height: 0;
            transition: opacity 0.5s ease;
            z-index: 50;
            /* In player view, this should be fixed relative to the viewport (or app container) */
            position: fixed; 
            max-width: 448px; /* Restrict width to the app container size */
        }
        
        /* Sticky button bar position */
        #sticky-buttons {
            z-index: 40;
            position: relative;
        }
        
        /* Pseudo-element to ensure continuous background color below the fixed player */
        #sticky-buttons::before {
            content: '';
            position: absolute;
            top: calc(-1 * var(--sticky-top, 0));
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #0f172a; /* Match the body background */
            z-index: -1; 
        }

        /* Scrollable container for player content */
        .scrollable-content {
            overflow-y: auto;
            /* In this unified file, we ensure the player content takes up the rest of the app-container height */
            height: 100%; 
        }

        /* Hide the scrollbar for the horizontal carousel on Webkit browsers */
        .horizontal-scroll-container::-webkit-scrollbar {
            display: none;
        }

    </style>
</head>

<body class="font-sans antialiased text-gray-100">

    <!-- Main App Container -->
    <div class="app-container shadow-2xl">
        
        <!-- ============================================== -->
        <!-- A. FIXED HEADER (Visible only for Dashboard) -->
        <!-- ============================================== -->
        <header class="p-4 bg-card sticky top-0 z-10 flex justify-between items-center shadow-2xl border-b border-white/5" id="main-header">
            <div class="flex items-center space-x-2">
                <!-- SVG Icon as Logo (Primary/Amber) -->
                <svg class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.402 9.49 4.75 8 4.75H6v14.5h2c1.49 0 2.832-.652 4-1.503m0-11.497c1.168.85 2.51 1.503 4 1.503h2V4.75h-2c-1.49 0-2.832.652-4 1.503z"/>
                </svg>
                <h1 class="text-xl font-bold text-white">Edutopia</h1>
            </div>
            
            <!-- AI Tutor Navigation Link (Header) -->
            <a href="#" onclick="changeView('ai-tutor-view'); return false;"
                class="w-9 h-9 bg-primary rounded-lg flex items-center justify-center transition shadow-lg touch-target hover:opacity-90" 
            >
                <!-- AI Icon: Stylized Lightbulb/Brain in a Box -->
                <svg class="w-5 h-5 text-slate-900" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11l3 3m0 0l3-3m-3 3v2m0-7h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </a>
        </header>


        <!-- ============================================== -->
        <!-- B. DASHBOARD VIEW -->
        <!-- ============================================== -->
        <div id="dashboard-view" class="flex-grow flex flex-col w-full hidden">
            
            <!-- Dashboard Main Area: Allows internal scrolling if content overflows -->
            <main class="flex-grow overflow-y-auto py-4 space-y-4 bg-background px-4">
                
                <!-- Greeting and Search -->
                <section class="space-y-3">
                    <p class="text-2xl font-bold text-white">
                        Guess who’s back?
                        <span class="text-primary">You!</span>
                    </p>
                    <div class="relative">
                        <input type="text" placeholder="Search courses, topics, questions..."
                            class="w-full pl-10 pr-4 py-3 bg-card border border-slate-700 text-gray-100 rounded-xl focus:ring-primary focus:border-primary transition shadow-md placeholder-slate-400"
                        >
                        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                </section>

                <!-- Progress Card (Margin increased by space-y-4 above) -->
                <section>
                    <div class="bg-gradient-to-r from-primary to-primary-light text-slate-900 p-4 rounded-2xl shadow-xl relative overflow-hidden">
                        <h2 class="text-lg font-semibold mb-1">Your Learning Progress</h2>
                        <p class="text-3xl font-extrabold mb-3">85% completed</p>
                        <div class="h-2 bg-slate-700/50 rounded-full mb-4">
                            <div class="h-full bg-secondary rounded-full" style="width: 85%;"></div>
                        </div>
                        <div class="flex justify-between items-center text-sm opacity-90">
                            <p>3 modules waiting</p>
                            <!-- Compacted button -->
                            <button class="px-3 py-1 bg-card text-primary rounded-full font-medium shadow-md transition hover:bg-slate-700/80 touch-target text-xs">
                                Continue Learning &rarr;
                            </button>
                        </div>
                    </div>
                </section>
                
                <!-- Recommended Courses (Horizontal Carousel/Swiper) -->
                <section> 
                    <h2 class="text-xl font-bold mb-3 text-white">Recommended Courses</h2>
                    
                    <!-- Added hide-scrollbar here -->
                    <div class="flex space-x-4 overflow-x-auto pb-2 snap-x snap-mandatory hide-scrollbar">
                        
                        <!-- Course Item 1: Web Development (Padding p-5) -->
                        <div class="flex-shrink-0 w-72 bg-card p-5 rounded-2xl shadow-xl border border-primary/30 snap-start transition duration-300">
                            <div class="flex items-start justify-between mb-3">
                                <!-- Icon with accent background (Amber/Primary) -->
                                <div class="w-10 h-10 bg-amber-900 rounded-lg flex items-center justify-center text-primary shadow-sm">
                                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4m-4-4H7m4-2a2 2 0 11-4 0 2 2 0 014 0z" />
                                    </svg>
                                </div>
                                <span class="text-sm font-semibold text-secondary bg-secondary/20 px-2 py-0.5 rounded-full">Free</span>
                            </div>
                            
                            <h3 class="font-bold text-xl mb-1 text-white truncate">Web Development: HTML & CSS</h3>
                            <p class="text-sm text-slate-400 mb-4">Master the fundamentals of modern web design and structure.</p>

                            <!-- Compact Enroll Button -->
                            <div class="flex justify-between items-center text-xs text-slate-400">
                                <span>Beginner | 45 Lessons</span>
                                <button class="bg-secondary text-white text-xs font-semibold px-3 py-0.5 rounded-lg hover:bg-red-600 transition">
                                    Enroll
                                </button>
                            </div>
                        </div>

                        <!-- Course Item 2: History (Padding p-5) -->
                        <div class="flex-shrink-0 w-72 bg-card p-5 rounded-2xl shadow-xl border border-slate-700 snap-start transition duration-300">
                            <div class="flex items-start justify-between mb-3">
                                <div class="w-10 h-10 bg-red-900 rounded-lg flex items-center justify-center text-secondary shadow-sm">
                                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20v-2c0-.656-.126-1.283-.356-1.857M20 10.517V6a2 2 0 00-2-2H4a2 2 0 00-2 2v10a2 2 0 002 2h4l2 2h3m2-4v2m4-2l2-2h-3m-4 2l-2 2h-4" />
                                    </svg>
                                </div>
                                <span class="text-sm font-semibold text-slate-400 bg-slate-700/50 px-2 py-0.5 rounded-full">19€</span>
                            </div>

                            <h3 class="font-bold text-xl mb-1 text-white truncate">History: Ancient Civilizations</h3>
                            <p class="text-sm text-slate-400 mb-4">In-depth study of the major world powers of antiquity.</p>
                            
                            <!-- Compact Enroll Button -->
                            <div class="flex justify-between items-center text-xs text-slate-400">
                                <span>Advanced | 25 Lessons</span>
                                <button class="bg-secondary text-white text-xs font-semibold px-3 py-0.5 rounded-lg hover:bg-red-600 transition">
                                    Enroll
                                </button>
                            </div>
                        </div>

                        <!-- Course Item 3: Finance (Padding p-5) -->
                        <div class="flex-shrink-0 w-72 bg-card p-5 rounded-2xl shadow-xl border border-slate-700 snap-start transition duration-300">
                            <div class="flex items-start justify-between mb-3">
                                <div class="w-10 h-10 bg-red-900 rounded-lg flex items-center justify-center text-secondary shadow-sm">
                                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 3 3-3 3 3 3-3 3 3 3-3" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 13l3 3 3-3 3 3 3-3 3 3 3-3" />
                                    </svg>
                                </div>
                                <span class="text-sm font-semibold text-slate-400 bg-slate-700/50 px-2 py-0.5 rounded-full">29€</span>
                            </div>

                            <h3 class="font-bold text-xl mb-1 text-white truncate">Finance: Budgeting 101</h3>
                            <p class="text-sm text-slate-400 mb-4">Learn essential skills for personal and household financial management.</p>
                            
                            <!-- Compact Enroll Button -->
                            <div class="flex justify-between items-center text-xs text-slate-400">
                                <span>Expert | 8 Lessons</span>
                                <button class="bg-secondary text-white text-xs font-semibold px-3 py-0.5 rounded-lg hover:bg-red-600 transition">
                                    Enroll
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

            </main>

            <!-- C. Fixed Bottom Navigation Bar (Visible only for Dashboard) -->
            <nav class="fixed bottom-0 w-full max-w-[448px] mx-auto bg-card p-2 shadow-2xl border-t border-white/5 z-20" id="main-footer">
                <div class="flex justify-around items-center h-16">
                    
                    <!-- Home (Active) -->
                    <button class="flex flex-col items-center space-y-1 text-primary touch-target p-1 rounded-lg">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                        <span class="text-xs font-medium">Home</span>
                    </button>
                    
                    <!-- Courses -->
                    <button class="flex flex-col items-center space-y-1 text-gray-400 hover:text-primary transition touch-target p-1 rounded-lg">
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.402 9.49 4.75 8 4.75H6v14.5h2c1.49 0 2.832-.652 4-1.503m0-11.497c1.168.85 2.51 1.503 4 1.503h2V4.75h-2c-1.49 0-2.832.652-4 1.503z"/>
                        </svg>
                        <span class="text-xs font-medium">Courses</span>
                    </button>

                    <!-- Assignments/Quizzes -->
                    <button class="flex flex-col items-center space-y-1 text-gray-400 hover:text-primary transition touch-target p-1 rounded-lg">
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V17a2 2 0 01-2 2h-1m-7 5v-4" />
                        </svg>
                        <span class="text-xs font-medium">Assignments</span>
                    </button>
                    
                    <!-- AI Tutor Navigation Link (Footer) -->
                    <a href="#" onclick="changeView('ai-tutor-view'); return false;" class="flex flex-col items-center space-y-1 text-gray-400 hover:text-primary transition touch-target p-1 rounded-lg">
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11l3 3m0 0l3-3m-3 3v2m0-7h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span class="text-xs font-medium">AI Tutor</span>
                    </a>
                    
                </div>
            </nav>
        </div>


        <!-- ============================================== -->
        <!-- D. AI TUTOR (LECTURE PLAYER) VIEW -->
        <!-- ============================================== -->
        <div id="ai-tutor-view" class="w-full h-full hidden">
            <!-- Fixed video player section at the very top of the screen with a high z-index -->
            <div id="video-player-container" class="w-full bg-black top-0 left-0">
                <!-- Thumbnail image, visible by default -->
                <img 
                    id="video-thumbnail"
                    class="w-full h-full object-cover"
                    src="https://edtech.b-cdn.net/QUESTION%20NO.%2023%20(%20GROUP%20'C'%20)%202081_20250924_174716_0000.png"
                    alt="Lecture series thumbnail"
                    onerror="this.onerror=null; this.src='https://placehold.co/600x400/1e293b/fbbf24?text=Video+Thumbnail';"
                >
                <!-- Video player, hidden by default -->
                <video 
                    id="lecture-video"
                    class="w-full h-full object-cover hidden"
                    src=""
                    poster="https://edtech.b-cdn.net/images%20(3).jpeg"
                    controls
                    playsinline
                ></video>
            </div>
            
            <!-- Spacer div to push content below the fixed video player. Its height is set dynamically by JavaScript. -->
            <div id="video-player-spacer" style="height: 0;"></div>

            <!-- Scrollable container for the lecture details -->
            <div class="scrollable-content">
                <div class="container mx-auto p-4 lg:p-8">
                    
                    <!-- Main content area for video details -->
                    <div class="flex flex-col">

                        <!-- Primary Content: Video details. -->
                        <main class="w-full relative z-10">
                            
                            <!-- This is the "Button section" which is now sticky. -->
                            <div id="sticky-buttons" class="flex flex-col bg-slate-900 transition-colors duration-200" style="position: sticky; top: var(--sticky-top, 0);">
                                <!-- Video Title is now inside the sticky container -->
                                <h1 id="video-title" class="text-2xl md:text-3xl font-extrabold tracking-tight text-white mb-1">
                                    SEE 2082 - COMPLETE SCIENCE
                                </h1>
                                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between pb-4 border-b border-slate-700">
                                    <div class="flex items-center space-x-4 mb-4 sm:mb-0">
                                        <img class="w-12 h-12 rounded-full object-cover" 
                                             src="https://edtech.b-cdn.net/IMG_20250919_214517_978.webp" 
                                             alt="Lecturer Avatar"
                                             onerror="this.onerror=null; this.src='https://placehold.co/48x48/1e293b/fbbf24?text=DA';">
                                        <div>
                                            <p class="text-lg font-bold text-white">Dilshad Alam</p>
                                            <p class="text-sm text-slate-400">Science Tutor</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center space-x-2">
                                        <!-- Home button (retains text change) -->
                                        <button id="player-home-button" class="flex items-center space-x-2 bg-secondary hover:bg-red-600 transition-colors duration-200 rounded-full px-4 py-2 text-sm font-semibold">
                                            <!-- Simple Home Icon -->
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                            <span>Home</span>
                                        </button>
                                        <!-- 'Course' button -->
                                        <button id="course-button" class="flex items-center space-x-2 bg-slate-700 hover:bg-slate-600 transition-colors duration-200 rounded-full px-4 py-2 text-sm font-semibold">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                                            <span>Course</span>
                                        </button>
                                        <!-- Modern 'Module' icon (Four squares) -->
                                        <button class="flex items-center space-x-2 bg-slate-700 hover:bg-slate-600 transition-colors duration-200 rounded-full px-4 py-2 text-sm font-semibold">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/></svg>
                                            <span>Module</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                        </main>
                    </div>
                    
                    <!-- Chapter/Lecture Carousel Section -->
                    <section class="mt-4">
                        <h2 id="carousel-title" class="text-xl font-bold mb-4">Chapters</h2>
                        <div id="lecture-carousel" class="horizontal-scroll-container flex space-x-4 overflow-x-auto pb-4 transition-opacity duration-300 ease-in-out">
                            <!-- Content will be injected by JavaScript -->
                        </div>
                    </section>
                </div>
            </div>
            
        </div>

    </div>
</body>
</html>
